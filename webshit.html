<!DOCTYPE HTML>
<!-- TODO style the counter as a clock...maybe have to special print it -->
<html>
    <head>
        <title>WEBSHIT</title>
        <!-- version 0.1.2 alpha -->
        <meta name="copyright" content="The WebSHIT team (C) 2017, 2018">
        <meta charset="utf-8">
        <style>
            body {
                font-family: "Comic Sans MS", Helvetica;
                background: #cccccc;
            }
            h1 {
                font-size: 28pt;
                
            }
            div#banner ul {
                font-variant-caps: all-small-caps;
                font-size: 18pt;
                font-weight: lighter;
                font-style: italic;
            }
            div#banner ul li:not(:first-child) {
                writing-mode: vertical-lr;
                text-orientation: upright;
                padding-top: 7pt;
            }
            div#banner li {
                list-style: none;
                float: left;
            }
            div#banner li:first-child,
            div#banner li:first-letter {
                font-weight: bold;
                font-size: 22pt;
            }
            @keyframes trippyfader {
                0%, 100% {
                    background-color: red;
                }
                50% {
                    background-color: yellow;
                }
            }
            div.box {
                width: 100px;
                height: 100px;
                background-color: red;
                animation-name: trippyfader;
                animation-duration: 22103ms;
                animation-iteration-count: infinite;
            }
            @keyframes spinrar {
                /*TODO make this smoother, (more key frames?) brandon wants to*/
                0%, 100% {
                    transform: rotate3d(0, 1, 0, 0);
                }
                25% {
                    transform: rotate3d(0, 1, 0, 90deg);
                }
                50% {
                    transform: rotate3d(0, 1, 0, 180deg);
                }
                75% {
                    transform: rotate3d(0, 1, 0, 270deg);
                }
            }
            h1.rotate {
                animation-name: spinrar;
                animation-duration: 666ms;
                animation-iteration-count: 69;
            }
        </style>
        <script>
            var d = new Date();
            var time = 0.0;
            console.log("Initializing........");
            function woah() {
                let e = document.getElementById("howdidieverdothis");
                console.log("You are going to spin, or maybe stop spinning. Bitch.");
                e.classList.toggle("rotate");
            }
            function complete() {
                var year = (new Date()).getFullYear();
                document.getElementById("xmas_ctr").innerHTML = Math.ceil((new Date(year + "-12-24 12:00:00") - new Date())/8.64e+7);
                
                if(isWednesday()) {
                    let theDiv = document.getElementById("itiswednesdaymydudes")
                    theDiv.innerHTML = '<iframe width="1280" height="720" src="https://www.youtube.com/embed/nUKQThJiDL0?autoplay=1&start=9" frameborder="0" gesture="media" allow="encrypted-media" allowfullscreen></iframe>';
                    // We could have used the youtube api but we were on our way out the door so we did a gross timeout to make the div go away
                    // TODO make it shrink before disapperaring lol
                    setTimeout(() => {
                        console.log("hiding the wednesday spirit");
                        theDiv.style.display = 'none';
                    }, 19000);                
                }
                
                setupTimer();
                
                var s = (new Date()) - d;
                console.log("YOU HAVE ACHIEVED WEBSHIT. Time Taken: " + s);
            }
            function isWednesday() {
                let dayOfWeek = d.getDay();
                return (dayOfWeek == 3);
            }
            function setupTimer() {
            	setInterval(() => {
              	  time = time + .1;
                  document.getElementById("currenttime").innerHTML = time.toFixed(2);
              }, 100);
            }
        </script>
    </head>
    <body onload="complete()">
        <div class="box" onclick="woah()">
            <h1 id="howdidieverdothis">WEBSHIT</h1>
        </div>
        <div id="itiswednesdaymydudes"></div>
        <div id="banner">
            <ul>
                <li>Web</li>
                <li>Secure</li>
                <li>High Performance</li>
                <li>Internet</li>
                <li>Technology</li>
            </ul>
        </div>
        <div style="clear: both"></div>
        <hr>
        <p><span style="font-weight: bold" id="xmas_ctr"></span> DAYS until CHRISTMAS! ðŸŽ„ðŸŽ…</p>
        <hr>
        <p>Developer's Rules of Contribution:</p>
        <ol>
            <li>You can only add or modify code, you cannot remove things.</li>
            <li>Must be valid HTML5.</li>
            <li>No external dependencies.</li>
            <li>One handwritten HTML file only.</li>
            <li>Webshit.</li>
        </ol>
         <div>
          <p class="timer">
            Time Spent Increasing IQ: <span id="currenttime"></span>
          </p>
        </div>
        <p style="font-size: 8px">Best viewed with Mozzarella FoxFire version 59.0 and nothing else.</p>
    </body>
</html>
